{"version":3,"sources":["webpack:///./src/components/school/deviceManage.vue?971c","webpack:///./src/components/school/deviceManage.vue?74db","webpack:///src/components/school/deviceManage.vue","webpack:///./src/components/school/deviceManage.vue?9ad6","webpack:///./src/components/school/deviceManage.vue","webpack:///./src/components/school/deviceManage.vue?12e0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","on","$event","addDeviceDrawer","staticStyle","school","devices","scopedSlots","_u","key","fn","scope","row","model","value","callback","$$v","$set","expression","_s","name","_l","item","label","deviceTypeOptions","find","option","type","device_number","device_model","_f","product_time","start_time","end_time","deviceStatusOptions","device_status","saveSchoolDevice","isEdit","applyRepair","ID","ref","addDeviceFrom","rules","addDeviceLoading","addDevice","staticRenderFns","data","Date","now","location","tel","account","passwords","schoolTypeOptions","methods","mapSchool","map","device","component"],"mappings":"kHAAA,yBAA8rB,EAAG,G,gECAjsB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,UAAU,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,cAAcC,MAAM,CAAC,KAAO,UAAUC,KAAK,UAAU,CAACJ,EAAG,OAAO,CAACJ,EAAIS,GAAG,YAAYL,EAAG,YAAY,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAASC,GAAQX,EAAIY,iBAAkB,KAAQ,CAACR,EAAG,IAAI,CAACE,YAAY,gCAAgCN,EAAIS,GAAG,YAAYL,EAAG,WAAW,CAACS,YAAY,CAAC,MAAQ,SAASN,MAAM,CAAC,KAAOP,EAAIc,OAAOC,QAAQ,OAAS,GAAG,OAAS,GAAG,wBAAwB,WAAc,MAAO,yBAA2B,CAACX,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,GAAG,wBAAwB,GAAG,MAAQ,KAAK,MAAQ,OAAOS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAU,OAAEjB,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,SAASe,MAAM,CAACC,MAAOH,EAAMC,IAAQ,KAAEG,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKN,EAAMC,IAAK,OAAQI,IAAME,WAAW,oBAAoBvB,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAI4B,GAAGR,EAAMC,IAAIQ,gBAAgBzB,EAAG,kBAAkB,CAACG,MAAM,CAAC,wBAAwB,GAAG,MAAQ,KAAK,MAAQ,OAAOS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAU,OAAEjB,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,SAASe,MAAM,CAACC,MAAOH,EAAMC,IAAQ,KAAEG,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKN,EAAMC,IAAK,OAAQI,IAAME,WAAW,mBAAmB3B,EAAI8B,GAAI9B,EAAqB,mBAAE,SAAS+B,GAAM,OAAO3B,EAAG,YAAY,CAACc,IAAIa,EAAKR,MAAMhB,MAAM,CAAC,MAAQwB,EAAKC,MAAM,MAAQD,EAAKR,YAAW,GAAGnB,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAI4B,GAAG5B,EAAIiC,kBAAkBC,MAAK,SAAUC,GAAU,OAAOA,EAAOZ,QAAUH,EAAMC,IAAIe,QAASJ,iBAAiB5B,EAAG,kBAAkB,CAACG,MAAM,CAAC,wBAAwB,GAAG,MAAQ,KAAK,MAAQ,OAAOS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAU,OAAEjB,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,SAASe,MAAM,CAACC,MAAOH,EAAMC,IAAiB,cAAEG,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKN,EAAMC,IAAK,gBAAiBI,IAAME,WAAW,6BAA6BvB,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAI4B,GAAGR,EAAMC,IAAIgB,yBAAyBjC,EAAG,kBAAkB,CAACG,MAAM,CAAC,wBAAwB,GAAG,MAAQ,KAAK,MAAQ,OAAOS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAU,OAAEjB,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,SAASe,MAAM,CAACC,MAAOH,EAAMC,IAAgB,aAAEG,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKN,EAAMC,IAAK,eAAgBI,IAAME,WAAW,4BAA4BvB,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAI4B,GAAGR,EAAMC,IAAIiB,wBAAwBlC,EAAG,kBAAkB,CAACG,MAAM,CAAC,wBAAwB,GAAG,MAAQ,OAAO,MAAQ,OAAOS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAU,OAAEjB,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,OAAO,YAAc,OAAO,OAAS,YAAY,eAAe,aAAae,MAAM,CAACC,MAAOH,EAAMC,IAAgB,aAAEG,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKN,EAAMC,IAAK,eAAgBI,IAAME,WAAW,4BAA4BvB,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAI4B,GAAG5B,EAAIuC,GAAG,gBAAPvC,CAAwBoB,EAAMC,IAAImB,yBAAyBpC,EAAG,kBAAkB,CAACG,MAAM,CAAC,wBAAwB,GAAG,MAAQ,OAAO,MAAQ,OAAOS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAU,OAAEjB,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,OAAO,YAAc,OAAO,OAAS,YAAY,eAAe,aAAae,MAAM,CAACC,MAAOH,EAAMC,IAAc,WAAEG,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKN,EAAMC,IAAK,aAAcI,IAAME,WAAW,0BAA0BvB,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAI4B,GAAG5B,EAAIuC,GAAG,gBAAPvC,CAAwBoB,EAAMC,IAAIoB,uBAAuBrC,EAAG,kBAAkB,CAACG,MAAM,CAAC,wBAAwB,GAAG,MAAQ,SAAS,MAAQ,OAAOS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAU,OAAEjB,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,OAAO,YAAc,OAAO,OAAS,YAAY,eAAe,aAAae,MAAM,CAACC,MAAOH,EAAMC,IAAY,SAAEG,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKN,EAAMC,IAAK,WAAYI,IAAME,WAAW,wBAAwBvB,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAI4B,GAAG5B,EAAIuC,GAAG,gBAAPvC,CAAwBoB,EAAMC,IAAIqB,qBAAqBtC,EAAG,kBAAkB,CAACG,MAAM,CAAC,wBAAwB,GAAG,MAAQ,OAAO,MAAQ,MAAM,MAAQ,SAASS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAU,OAAEjB,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,SAASe,MAAM,CAACC,MAAOH,EAAMC,IAAiB,cAAEG,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKN,EAAMC,IAAK,gBAAiBI,IAAME,WAAW,4BAA4B3B,EAAI8B,GAAI9B,EAAuB,qBAAE,SAAS+B,GAAM,OAAO3B,EAAG,YAAY,CAACc,IAAIa,EAAKR,MAAMhB,MAAM,CAAC,MAAQwB,EAAKC,MAAM,MAAQD,EAAKR,YAAW,GAAGnB,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAI4B,GAAG5B,EAAI2C,oBAAoBT,MAAK,SAAUC,GAAU,OAAOA,EAAOZ,QAAUH,EAAMC,IAAIuB,iBAAkBZ,iBAAiB5B,EAAG,kBAAkB,CAACG,MAAM,CAAC,wBAAwB,GAAG,MAAQ,KAAK,MAAQ,MAAM,MAAQ,SAASS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAU,OAAEjB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,SAASG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI6C,iBAAiBzB,EAAMC,QAAQ,CAACrB,EAAIS,GAAG,QAAQL,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,SAASG,GAAG,CAAC,MAAQ,SAASC,GAAQS,EAAMC,IAAIyB,QAAS,KAAQ,CAAC9C,EAAIS,GAAG,eAAeL,EAAG,kBAAkB,CAACG,MAAM,CAAC,wBAAwB,GAAG,MAAQ,KAAK,MAAQ,MAAM,MAAQ,SAASS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAChB,EAAG,YAAY,CAACG,MAAM,CAAC,SAAuC,IAA5Ba,EAAMC,IAAIuB,cAAoB,KAAO,OAAO,KAAO,SAASlC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI+C,YAAY3B,EAAMC,IAAI2B,OAAO,CAAChD,EAAIS,GAAG,gBAAgB,IAAI,GAAGL,EAAG,YAAY,CAACG,MAAM,CAAC,eAAc,EAAM,QAAUP,EAAIY,gBAAgB,UAAY,OAAOF,GAAG,CAAC,iBAAiB,SAASC,GAAQX,EAAIY,gBAAgBD,KAAU,CAACP,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,UAAU,CAAC6C,IAAI,aAAa1C,MAAM,CAAC,MAAQP,EAAIkD,cAAc,MAAQlD,EAAImD,QAAQ,CAAC/C,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,MAAM,KAAO,SAAS,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,SAASe,MAAM,CAACC,MAAOvB,EAAIkD,cAAkB,KAAE1B,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIkD,cAAe,OAAQzB,IAAME,WAAW,yBAAyB,GAAGvB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,MAAM,KAAO,kBAAkB,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,SAASe,MAAM,CAACC,MAAOvB,EAAIkD,cAA2B,cAAE1B,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIkD,cAAe,gBAAiBzB,IAAME,WAAW,kCAAkC,GAAGvB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,MAAM,KAAO,iBAAiB,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,SAASe,MAAM,CAACC,MAAOvB,EAAIkD,cAA0B,aAAE1B,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIkD,cAAe,eAAgBzB,IAAME,WAAW,iCAAiC,GAAGvB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,MAAM,KAAO,SAAS,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,SAASe,MAAM,CAACC,MAAOvB,EAAIkD,cAAkB,KAAE1B,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIkD,cAAe,OAAQzB,IAAME,WAAW,uBAAuB3B,EAAI8B,GAAI9B,EAAqB,mBAAE,SAAS+B,GAAM,OAAO3B,EAAG,YAAY,CAACc,IAAIa,EAAKR,MAAMhB,MAAM,CAAC,MAAQwB,EAAKC,MAAM,MAAQD,EAAKR,YAAW,IAAI,GAAGnB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQ,KAAO,iBAAiB,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,OAAO,YAAc,OAAO,OAAS,YAAY,eAAe,aAAae,MAAM,CAACC,MAAOvB,EAAIkD,cAA0B,aAAE1B,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIkD,cAAe,eAAgBzB,IAAME,WAAW,iCAAiC,GAAGvB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQ,KAAO,eAAe,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,OAAO,YAAc,OAAO,OAAS,YAAY,eAAe,aAAae,MAAM,CAACC,MAAOvB,EAAIkD,cAAwB,WAAE1B,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIkD,cAAe,aAAczB,IAAME,WAAW,+BAA+B,GAAGvB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,UAAU,KAAO,aAAa,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,OAAO,YAAc,OAAO,OAAS,YAAY,eAAe,aAAae,MAAM,CAACC,MAAOvB,EAAIkD,cAAsB,SAAE1B,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIkD,cAAe,WAAYzB,IAAME,WAAW,6BAA6B,GAAGvB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,kBAAkB,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,SAASe,MAAM,CAACC,MAAOvB,EAAIkD,cAA2B,cAAE1B,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIkD,cAAe,gBAAiBzB,IAAME,WAAW,gCAAgC3B,EAAI8B,GAAI9B,EAAuB,qBAAE,SAAS+B,GAAM,OAAO3B,EAAG,YAAY,CAACc,IAAIa,EAAKR,MAAMhB,MAAM,CAAC,MAAQwB,EAAKC,MAAM,MAAQD,EAAKR,YAAW,IAAI,IAAI,GAAGnB,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,YAAY,CAACM,GAAG,CAAC,MAAQ,SAASC,GAAQX,EAAIY,iBAAkB,KAAS,CAACZ,EAAIS,GAAG,SAASL,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,QAAUP,EAAIoD,kBAAkB1C,GAAG,CAAC,MAAQV,EAAIqD,YAAY,CAACrD,EAAIS,GAAGT,EAAI4B,GAAG5B,EAAIoD,iBAAmB,UAAY,WAAW,IAAI,MAAM,IAC18QE,EAAkB,G,myBCsJtB,OACEzB,KAAM,aACN0B,KAFF,WAGI,MAAO,CACLzC,OAAQ,GACRF,iBAAiB,EACjBwC,kBAAkB,EAClBF,cAAe,CACbrB,KAAM,GACNQ,cAAe,KACfC,aAAc,KACdF,KAAM,EACNI,aAAcgB,KAAKC,MACnBhB,WAAYe,KAAKC,MACjBf,SAAUc,KAAKC,MACf3C,OAAQ,KACR8B,cAAe,GAEjBO,MAAO,CACLtB,KAAM,CACd,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,WAEQO,KAAM,CACd,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,WAEQsB,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,WAEQC,IAAK,CACb,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,WAEQC,QAAS,CACjB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,WAEQC,UAAW,CACnB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,WAEQjB,cAAe,CACvB,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,YAGMkB,kBAAmB,CAAC,CAClBvC,MAAO,EACPS,MAAO,OACf,CACQT,MAAO,EACPS,MAAO,QAETW,oBAAqB,CAAC,CACpBpB,MAAO,EACPS,MAAO,MACf,CACQT,MAAO,EACPS,MAAO,OACf,CACQT,MAAO,EACPS,MAAO,OAGTC,kBAAmB,CAAC,CAClBV,MAAO,EACPS,MAAO,MACf,CACQT,MAAO,EACPS,MAAO,OACf,CACQT,MAAO,EACPS,MAAO,MACf,CACQT,MAAO,EACPS,MAAO,aAIb,QA1EF,WA0EA,wKACA,0FACA,EADA,CAEA,UACA,sEAJA,OACA,SADA,qDAOE+B,QAAS,CACPC,UADJ,SACA,GAQM,OAPAlD,EAAOgC,QAAS,EACZhC,EAAOC,UACTD,EAAOC,QAAUD,EAAOC,QAAQkD,KAAI,SAA5C,GAEU,OADAC,EAAOpB,QAAS,EACToB,MAGJpD,GAET,mBAXJ,WAWA,wJACA,sMACA,EADA,iCAEA,gGAFA,sCAEA,EAFA,KAGA,mBACA,yBACA,0CACA,2BANA,wBAOA,8BAPA,mGADA,8CAWI,iBAtBJ,SAsBA,0KACA,kCADA,iCAEA,yFAFA,sCAEA,EAFA,KAGA,gEACA,+CACA,2BALA,wBAMA,8BANA,+CAQI,UA9BJ,WA8BA,wJACA,sBACA,qMACA,EADA,iCAEA,iIAFA,sCAEA,EAFA,KAGA,2CACA,qBACA,2BALA,wBAMA,8BANA,mGAQA,sBAVA,8CAYI,YA1CJ,SA0CA,2LACA,2BACA,uBACA,sBACA,uBACA,oDALA,mBACA,EADA,EACA,OAKA,EANA,iCAOA,4BACA,SACA,YATA,UAOA,EAPA,QAWA,EAXA,kCAYA,0DAZA,uCAYA,EAZA,KAaA,sFAbA,wBAeA,YACA,YACA,qBAjBA,iDClRyc,I,kCCSrcqD,EAAY,eACd,EACApE,EACAuD,GACA,EACA,KACA,WACA,MAIa,aAAAa,E,kECpBf,yBAAstB,EAAG","file":"js/chunk-27309b2b.f9e8df9f.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./deviceManage.vue?vue&type=style&index=1&lang=less&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./deviceManage.vue?vue&type=style&index=1&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"device-manage\"},[_c('el-card',{staticClass:\"base-card\"},[_c('div',{staticClass:\"base-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"设备信息\")])]),_c('el-button',{staticClass:\"add-device-button\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.addDeviceDrawer = true}}},[_c('i',{staticClass:\"el-icon-circle-plus-outline\"}),_vm._v(\" 添加设备 \")]),_c('el-table',{staticStyle:{\"width\":\"780px\"},attrs:{\"data\":_vm.school.devices,\"stripe\":\"\",\"border\":\"\",\"header-row-class-name\":function () { return 'device-table-header'; }}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"show-overflow-tooltip\":\"\",\"label\":\"名称\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isEdit)?_c('el-input',{attrs:{\"placeholder\":\"请输入名称\"},model:{value:(scope.row.name),callback:function ($$v) {_vm.$set(scope.row, \"name\", $$v)},expression:\"scope.row.name\"}}):_c('p',[_vm._v(_vm._s(scope.row.name))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"类型\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isEdit)?_c('el-select',{attrs:{\"placeholder\":\"请选择类型\"},model:{value:(scope.row.type),callback:function ($$v) {_vm.$set(scope.row, \"type\", $$v)},expression:\"scope.row.type\"}},_vm._l((_vm.deviceTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1):_c('p',[_vm._v(_vm._s(_vm.deviceTypeOptions.find(function (option) { return option.value === scope.row.type; }).label))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"编号\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isEdit)?_c('el-input',{attrs:{\"placeholder\":\"请输入编号\"},model:{value:(scope.row.device_number),callback:function ($$v) {_vm.$set(scope.row, \"device_number\", $$v)},expression:\"scope.row.device_number\"}}):_c('p',[_vm._v(_vm._s(scope.row.device_number))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"型号\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isEdit)?_c('el-input',{attrs:{\"placeholder\":\"请输入型号\"},model:{value:(scope.row.device_model),callback:function ($$v) {_vm.$set(scope.row, \"device_model\", $$v)},expression:\"scope.row.device_model\"}}):_c('p',[_vm._v(_vm._s(scope.row.device_model))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"生产日期\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isEdit)?_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy/M/dd\",\"value-format\":\"timestamp\"},model:{value:(scope.row.product_time),callback:function ($$v) {_vm.$set(scope.row, \"product_time\", $$v)},expression:\"scope.row.product_time\"}}):_c('p',[_vm._v(_vm._s(_vm._f(\"formatterDate\")(scope.row.product_time)))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"安装时间\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isEdit)?_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy/M/dd\",\"value-format\":\"timestamp\"},model:{value:(scope.row.start_time),callback:function ($$v) {_vm.$set(scope.row, \"start_time\", $$v)},expression:\"scope.row.start_time\"}}):_c('p',[_vm._v(_vm._s(_vm._f(\"formatterDate\")(scope.row.start_time)))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"预计报废时间\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isEdit)?_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy/M/dd\",\"value-format\":\"timestamp\"},model:{value:(scope.row.end_time),callback:function ($$v) {_vm.$set(scope.row, \"end_time\", $$v)},expression:\"scope.row.end_time\"}}):_c('p',[_vm._v(_vm._s(_vm._f(\"formatterDate\")(scope.row.end_time)))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"设备状态\",\"width\":\"100\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isEdit)?_c('el-select',{attrs:{\"placeholder\":\"请选择状态\"},model:{value:(scope.row.device_status),callback:function ($$v) {_vm.$set(scope.row, \"device_status\", $$v)},expression:\"scope.row.device_status\"}},_vm._l((_vm.deviceStatusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1):_c('p',[_vm._v(_vm._s(_vm.deviceStatusOptions.find(function (option) { return option.value === scope.row.device_status; }).label))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"编辑\",\"width\":\"100\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isEdit)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.saveSchoolDevice(scope.row)}}},[_vm._v(\"保存\")]):_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){scope.row.isEdit = true}}},[_vm._v(\"编辑\")])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"报修\",\"width\":\"100\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"disabled\":scope.row.device_status !== 0,\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.applyRepair(scope.row.ID)}}},[_vm._v(\"报修\")])]}}])})],1)],1),_c('el-drawer',{attrs:{\"with-header\":false,\"visible\":_vm.addDeviceDrawer,\"direction\":\"rtl\"},on:{\"update:visible\":function($event){_vm.addDeviceDrawer=$event}}},[_c('div',{staticClass:\"add-school-drawer\"},[_c('el-form',{ref:\"addDevices\",attrs:{\"model\":_vm.addDeviceFrom,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"名称：\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入名称\"},model:{value:(_vm.addDeviceFrom.name),callback:function ($$v) {_vm.$set(_vm.addDeviceFrom, \"name\", $$v)},expression:\"addDeviceFrom.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"编号：\",\"prop\":\"device_number\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入编号\"},model:{value:(_vm.addDeviceFrom.device_number),callback:function ($$v) {_vm.$set(_vm.addDeviceFrom, \"device_number\", $$v)},expression:\"addDeviceFrom.device_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"型号：\",\"prop\":\"device_model\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入型号\"},model:{value:(_vm.addDeviceFrom.device_model),callback:function ($$v) {_vm.$set(_vm.addDeviceFrom, \"device_model\", $$v)},expression:\"addDeviceFrom.device_model\"}})],1),_c('el-form-item',{attrs:{\"label\":\"类型：\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择类型\"},model:{value:(_vm.addDeviceFrom.type),callback:function ($$v) {_vm.$set(_vm.addDeviceFrom, \"type\", $$v)},expression:\"addDeviceFrom.type\"}},_vm._l((_vm.deviceTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"生产时间：\",\"prop\":\"product_time\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy/M/dd\",\"value-format\":\"timestamp\"},model:{value:(_vm.addDeviceFrom.product_time),callback:function ($$v) {_vm.$set(_vm.addDeviceFrom, \"product_time\", $$v)},expression:\"addDeviceFrom.product_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"安装时间：\",\"prop\":\"start_time\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy/M/dd\",\"value-format\":\"timestamp\"},model:{value:(_vm.addDeviceFrom.start_time),callback:function ($$v) {_vm.$set(_vm.addDeviceFrom, \"start_time\", $$v)},expression:\"addDeviceFrom.start_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"预计报废时间：\",\"prop\":\"end_time\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy/M/dd\",\"value-format\":\"timestamp\"},model:{value:(_vm.addDeviceFrom.end_time),callback:function ($$v) {_vm.$set(_vm.addDeviceFrom, \"end_time\", $$v)},expression:\"addDeviceFrom.end_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"设备状态\",\"prop\":\"device_status\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择状态\"},model:{value:(_vm.addDeviceFrom.device_status),callback:function ($$v) {_vm.$set(_vm.addDeviceFrom, \"device_status\", $$v)},expression:\"addDeviceFrom.device_status\"}},_vm._l((_vm.deviceStatusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('div',{staticClass:\"demo-drawer__footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDeviceDrawer = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.addDeviceLoading},on:{\"click\":_vm.addDevice}},[_vm._v(_vm._s(_vm.addDeviceLoading ? '提交中 ...' : '确 定'))])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"device-manage\">\r\n    <el-card class=\"base-card\">\r\n      <div slot=\"header\" class=\"base-header\">\r\n        <span>设备信息</span>\r\n      </div>\r\n      <el-button class=\"add-device-button\" type=\"text\" @click=\"addDeviceDrawer = true\">\r\n        <i class=\"el-icon-circle-plus-outline\"></i>\r\n        添加设备\r\n      </el-button>\r\n      <el-table\r\n        :data=\"school.devices\"\r\n        stripe\r\n        border\r\n        style=\"width: 780px;\"\r\n        :header-row-class-name=\"() => 'device-table-header'\"\r\n        >\r\n        <el-table-column fixed show-overflow-tooltip label=\"名称\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-if=\"scope.row.isEdit\" v-model=\"scope.row.name\" placeholder=\"请输入名称\" />\r\n            <p v-else>{{scope.row.name}}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column show-overflow-tooltip label=\"类型\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-select v-if=\"scope.row.isEdit\" v-model=\"scope.row.type\" placeholder=\"请选择类型\">\r\n              <el-option\r\n                v-for=\"item in deviceTypeOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n            <p v-else>{{deviceTypeOptions.find(option => option.value === scope.row.type).label}}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column show-overflow-tooltip label=\"编号\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-if=\"scope.row.isEdit\" v-model=\"scope.row.device_number\" placeholder=\"请输入编号\" />\r\n            <p v-else>{{scope.row.device_number}}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column show-overflow-tooltip label=\"型号\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-if=\"scope.row.isEdit\" v-model=\"scope.row.device_model\" placeholder=\"请输入型号\" />\r\n            <p v-else>{{scope.row.device_model}}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column show-overflow-tooltip label=\"生产日期\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-date-picker v-if=\"scope.row.isEdit\" v-model=\"scope.row.product_time\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy/M/dd\" value-format=\"timestamp\" />\r\n            <p v-else>{{ scope.row.product_time | formatterDate }}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column show-overflow-tooltip label=\"安装时间\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-date-picker v-if=\"scope.row.isEdit\" v-model=\"scope.row.start_time\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy/M/dd\" value-format=\"timestamp\" />\r\n            <p v-else>{{ scope.row.start_time | formatterDate }}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column show-overflow-tooltip label=\"预计报废时间\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-date-picker v-if=\"scope.row.isEdit\" v-model=\"scope.row.end_time\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy/M/dd\" value-format=\"timestamp\" />\r\n            <p v-else>{{ scope.row.end_time | formatterDate }}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column show-overflow-tooltip label=\"设备状态\" width=\"100\" fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-select v-if=\"scope.row.isEdit\" v-model=\"scope.row.device_status\" placeholder=\"请选择状态\">\r\n              <el-option\r\n                v-for=\"item in deviceStatusOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n            <p v-else>{{ deviceStatusOptions.find(option => option.value === scope.row.device_status).label }}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column show-overflow-tooltip label=\"编辑\" width=\"100\" fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button v-if=\"scope.row.isEdit\" @click=\"saveSchoolDevice(scope.row)\" type=\"text\" size=\"small\">保存</el-button>\r\n            <el-button v-else @click=\"scope.row.isEdit = true\" type=\"text\" size=\"small\">编辑</el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column show-overflow-tooltip label=\"报修\" width=\"100\" fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"applyRepair(scope.row.ID)\" :disabled=\"scope.row.device_status !== 0\" type=\"text\" size=\"small\">报修</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n    <el-drawer\r\n      :with-header=\"false\"\r\n      :visible.sync=\"addDeviceDrawer\"\r\n      direction=\"rtl\"\r\n      >\r\n      <div class=\"add-school-drawer\">\r\n        <el-form :model=\"addDeviceFrom\" :rules=\"rules\" ref=\"addDevices\">\r\n          <el-form-item label=\"名称：\" prop=\"name\">\r\n            <el-input v-model=\"addDeviceFrom.name\" placeholder=\"请输入名称\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"编号：\" prop=\"device_number\">\r\n            <el-input v-model=\"addDeviceFrom.device_number\" placeholder=\"请输入编号\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"型号：\" prop=\"device_model\">\r\n            <el-input v-model=\"addDeviceFrom.device_model\" placeholder=\"请输入型号\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"类型：\" prop=\"type\">\r\n            <el-select v-model=\"addDeviceFrom.type\" placeholder=\"请选择类型\">\r\n              <el-option\r\n                v-for=\"item in deviceTypeOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"生产时间：\" prop=\"product_time\">\r\n            <el-date-picker v-model=\"addDeviceFrom.product_time\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy/M/dd\" value-format=\"timestamp\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"安装时间：\" prop=\"start_time\">\r\n            <el-date-picker v-model=\"addDeviceFrom.start_time\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy/M/dd\" value-format=\"timestamp\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"预计报废时间：\" prop=\"end_time\">\r\n            <el-date-picker v-model=\"addDeviceFrom.end_time\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy/M/dd\" value-format=\"timestamp\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"设备状态\" prop=\"device_status\">\r\n            <el-select v-model=\"addDeviceFrom.device_status\" placeholder=\"请选择状态\">\r\n              <el-option\r\n                v-for=\"item in deviceStatusOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div class=\"demo-drawer__footer\">\r\n          <el-button @click=\"addDeviceDrawer = false\">取 消</el-button>\r\n          <el-button type=\"primary\" :loading=\"addDeviceLoading\" @click=\"addDevice\">{{ addDeviceLoading ? '提交中 ...' : '确 定' }}</el-button>\r\n        </div>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../../common/fetch'\r\nimport { NAME_SPACE_SCHOOL } from '../../common/constants/namespace'\r\nimport isNil from 'lodash/isNil'\r\nexport default {\r\n  name: 'SchoolInfo',\r\n  data () {\r\n    return {\r\n      school: {},\r\n      addDeviceDrawer: false,\r\n      addDeviceLoading: false,\r\n      addDeviceFrom: {\r\n        name: '',\r\n        device_number: null,\r\n        device_model: null,\r\n        type: 1,\r\n        product_time: Date.now(),\r\n        start_time: Date.now(),\r\n        end_time: Date.now(),\r\n        school: null,\r\n        device_status: 0\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入名称', trigger: 'change' }\r\n        ],\r\n        type: [\r\n          { required: true, message: '请选择类型', trigger: 'change' }\r\n        ],\r\n        location: [\r\n          { required: true, message: '请输入地址', trigger: 'change' }\r\n        ],\r\n        tel: [\r\n          { required: true, message: '请输入电话', trigger: 'change' }\r\n        ],\r\n        account: [\r\n          { required: true, message: '请输入账号', trigger: 'change' }\r\n        ],\r\n        passwords: [\r\n          { required: true, message: '请输入密码', trigger: 'change' }\r\n        ],\r\n        device_status: [\r\n          { required: true, message: '请输选择状态', trigger: 'change' }\r\n        ]\r\n      },\r\n      schoolTypeOptions: [{\r\n        value: 1,\r\n        label: '教学点'\r\n      }, {\r\n        value: 2,\r\n        label: '中心校'\r\n      }],\r\n      deviceStatusOptions: [{\r\n        value: 0,\r\n        label: '正常'\r\n      }, {\r\n        value: 1,\r\n        label: '待维修'\r\n      }, {\r\n        value: 2,\r\n        label: '报废'\r\n      }],\r\n      // （1：屏幕 2：摄像头，3：话筒，4：多媒体计算机）\r\n      deviceTypeOptions: [{\r\n        value: 1,\r\n        label: '屏幕'\r\n      }, {\r\n        value: 2,\r\n        label: '摄像头'\r\n      }, {\r\n        value: 3,\r\n        label: '话筒'\r\n      }, {\r\n        value: 4,\r\n        label: '多媒体计算机'\r\n      }]\r\n    }\r\n  },\r\n  async created () {\r\n    this.school = await api[NAME_SPACE_SCHOOL].getSchool().then(([res]) => ({\r\n      ...res,\r\n      isEdit: false,\r\n      devices: res.devices.map(it => ({ ...it, isEdit: false }))\r\n    }))\r\n  },\r\n  methods: {\r\n    mapSchool (school) {\r\n      school.isEdit = false\r\n      if (school.devices) {\r\n        school.devices = school.devices.map(device => {\r\n          device.isEdit = false\r\n          return device\r\n        })\r\n      }\r\n      return school\r\n    },\r\n    async saveSchoolBaseInfo () {\r\n      this.$refs[this.school.ID].validate(async (valid) => {\r\n        if (valid) {\r\n          const [updatedSchool] = await api[NAME_SPACE_SCHOOL].saveSchool(this.school).catch(e => this.$message.error(e.toString()))\r\n          const devices = this.school.devices\r\n          console.log(this.mapSchool)\r\n          this.school = { ...this.mapSchool(updatedSchool), devices }\r\n          this.$message.success('更新成功')\r\n        } else this.$message.error('请填写相关基本信息')\r\n      })\r\n    },\r\n    async saveSchoolDevice (device) {\r\n      if (!isNil(device.name) && !isNil(device.device_status)) {\r\n        const [updatedDevice] = await api[NAME_SPACE_SCHOOL].saveDevice(device).catch(e => this.$message.error(e.toString()))\r\n        const updatedDeviceIndex = this.school.devices.findIndex(device => device.ID === updatedDevice.ID)\r\n        this.$set(this.school.devices, updatedDeviceIndex, { ...updatedDevice, isEdit: false })\r\n        this.$message.success('更新成功')\r\n      } else this.$message.error('请填写相关设备信息')\r\n    },\r\n    async addDevice () {\r\n      this.addDeviceLoading = true\r\n      this.$refs['addDevices'].validate(async (valid) => {\r\n        if (valid) {\r\n          const [addDevice] = await api[NAME_SPACE_SCHOOL].addDevice({ ...this.addDeviceFrom, school: this.school.ID }).catch(e => this.$message.error(e.toString()))\r\n          this.school.devices.push({ ...addDevice, isEdit: false })\r\n          this.addDeviceDrawer = false\r\n          this.$message.success('添加成功')\r\n        } else this.$message.error('请填写相关基本信息')\r\n      })\r\n      this.addDeviceLoading = false\r\n    },\r\n    async applyRepair (ID) {\r\n      const { value } = await this.$prompt('描述设备问题', '申请报修', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        inputType: 'textarea'\r\n      }).catch(() => this.$message.info('取消输入'))\r\n      if (value) {\r\n        const status = await api[NAME_SPACE_SCHOOL].applyRepair({\r\n          device: ID,\r\n          comment: value\r\n        })\r\n        if (status) {\r\n          const [changedDevice] = await api[NAME_SPACE_SCHOOL].changeDevicestatus({ ID, device_status: 1 })\r\n          this.$set(this.school.devices, this.school.devices.findIndex(it => it.ID === ID), changedDevice)\r\n        } else {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '提交报修记录失败'\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.device-manage {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  .base-card {\r\n    box-sizing: border-box;\r\n    margin: 10px;\r\n    .base-header {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  .el-card__body {\r\n    .add-device-button {\r\n      font-size: 14px;\r\n      width: 100%;\r\n    }\r\n  }\r\n  .add-school-drawer {\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n.device-table-header th{\r\n  background: #F5F7FA;\r\n  color: #666;\r\n  font-weight: bold;\r\n  text-align: center;\r\n}\r\n.el-table .cell.el-tooltip p,\r\n.el-table .cell.el-tooltip{\r\n  text-align: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./deviceManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./deviceManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deviceManage.vue?vue&type=template&id=4d12b1bc&scoped=true&\"\nimport script from \"./deviceManage.vue?vue&type=script&lang=js&\"\nexport * from \"./deviceManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./deviceManage.vue?vue&type=style&index=0&id=4d12b1bc&lang=less&scoped=true&\"\nimport style1 from \"./deviceManage.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d12b1bc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./deviceManage.vue?vue&type=style&index=0&id=4d12b1bc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./deviceManage.vue?vue&type=style&index=0&id=4d12b1bc&lang=less&scoped=true&\""],"sourceRoot":""}